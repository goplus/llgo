# Standard Library Test Coverage Tracker

This file tracks the status of standard library package test coverage for llgo.

## Validation Steps

Use this loop for every `test/std/<pkg>` suite:

1. **Build coverage with Go (repeat until stable)**
   - `go test ./test/std/<pkg>`
   - `go run ./chore/check_std_symbols -pkg <pkg>=test/std/<pkg>`
2. **Freeze tests and port llgo runtime behavior (repeat until it passes)**
   - `./llgo.sh test ./test/std/<pkg>`
   - Fix `runtime/internal/lib/<pkg>` (and any overlays) until llgo matches Go.
3. **Update this tracker**
   - Record totals, blockers, and ownership notes below.

Before updating progress, also run the aggregate sweeps:

- `go test ./test/std/...`
- `./llgo.sh test ./test/std/...`
- `go run ./chore/check_std_symbols -pkg math=test/std/math -pkg strings=test/std/strings -pkg slices=test/std/slices -pkg sort=test/std/sort -pkg path=test/std/path -pkg text/scanner=test/std/text/scanner -pkg text/tabwriter=test/std/text/tabwriter -pkg text/template=test/std/text/template -pkg time=test/std/time`

## Legend

- ‚úÖ Comprehensive coverage (>80% of package API tested)
- üü° Partial coverage (basic tests exist, gaps remain)
- üìù Planned (directory structure exists, minimal tests)
- ‚¨ú Not started
- ‚è≠Ô∏è Deferred (low priority or blocked)

## Priority 1: Core Packages

| Package   | Progress |
| --------- | -------- |
| `math`    | ‚úÖ 97/97 |
| `strings` | ‚úÖ 80/80 |
| `slices`  | ‚úÖ 40/40 |
| `bytes`   | ‚¨ú 0/?   |
| `strconv` | ‚¨ú 0/?   |
| `sort`    | ‚úÖ 36/36 |

## Priority 2: I/O Packages

| Package         | Progress |
| --------------- | -------- |
| `io`            | ‚¨ú 0/?   |
| `bufio`         | ‚¨ú 0/?   |
| `io/fs`         | ‚¨ú 0/?   |
| `os`            | ‚¨ú 0/?   |
| `path`          | ‚úÖ 9/9   |
| `path/filepath` | ‚¨ú 0/?   |

## Priority 3: Encoding Packages

| Package           | Progress |
| ----------------- | -------- |
| `encoding/json`   | ‚¨ú 0/?   |
| `encoding/base64` | ‚¨ú 0/?   |
| `encoding/hex`    | ‚¨ú 0/?   |
| `encoding/csv`    | ‚¨ú 0/?   |
| `encoding/binary` | ‚¨ú 0/?   |

## Priority 4: Crypto & Hashing

| Package         | Progress |
| --------------- | -------- |
| `hash`          | ‚¨ú 0/?   |
| `crypto/md5`    | ‚¨ú 0/?   |
| `crypto/sha1`   | ‚¨ú 0/?   |
| `crypto/sha256` | ‚¨ú 0/?   |
| `crypto/sha512` | ‚¨ú 0/?   |

## Priority 5: Concurrency & Sync

| Package       | Progress |
| ------------- | -------- |
| `sync`        | ‚¨ú 0/?   |
| `sync/atomic` | ‚¨ú 0/?   |
| `context`     | ‚¨ú 0/?   |

## Priority 6: Other Important Packages

| Package  | Progress |
| -------- | -------- |
| `fmt`    | ‚¨ú 0/?   |
| `errors` | ‚¨ú 0/?   |
| `time`   | ‚úÖ 62/62 |
| `regexp` | ‚¨ú 0/?   |
| `flag`   | ‚¨ú 0/?   |
| `log`    | ‚¨ú 0/?   |

## Priority 7: Text Packages

| Package          | Progress |
| ---------------- | -------- |
| `text/scanner`   | üü° 29/29 (fails under llgo runtime) |
| `text/tabwriter` | ‚úÖ 11/11 |
| `text/template`  | ‚è≠Ô∏è blocked (runtime unique) |

## Deferred / Low Priority

| Package        | Status | Reason                                         |
| -------------- | ------ | ---------------------------------------------- |
| `net`          | ‚è≠Ô∏è     | Network stack complexity, partial llgo support |
| `net/http`     | ‚è≠Ô∏è     | Depends on full net support                    |
| `database/sql` | ‚è≠Ô∏è     | Requires database drivers                      |
| `reflect`      | ‚è≠Ô∏è     | Partial support, complex runtime integration   |
| `runtime`      | ‚è≠Ô∏è     | Partial support, llgo-specific implementation  |
| `text/template` | ‚è≠Ô∏è     | Blocked by unique package runtime support gap  |

## How to Contribute

1. **Claim a package**: Add your GitHub handle to the "Owner" column
2. **Create tests**: Follow the guide in `test/std/README.md`
3. **Update status**: Change status as you make progress
4. **Add details**: Update "Functions Tested" and "Benchmarks" columns
5. **Document gaps**: Use `t.Skip("TODO: ...")` for unsupported features
6. **Submit PR**: Include test files and update this tracker

## Notes

- Focus on **breadth** first: cover basic functionality for many packages
- Then add **depth**: expand coverage for critical packages
- **Document** all gaps with `t.Skip()` and TODO comments
- **Benchmark** performance-sensitive operations
- Tests should pass with both `go test` and `llgo test`
- See existing `test/std/math/` as a reference implementation

## Tracking Issues

Related GitHub issues for follow-up work:

- Tag issues with `stdlib-tests` label
- Reference this tracker in issue descriptions
- Link package-specific issues in the "Notes" column above
